# Release v1.0.0 - System Maintenance Scripts

First stable release with comprehensive cleanup, backup, and update functionality.

## üöÄ Key Features

### Intelligent Cleanup (disk-cleanup.sh)
- **Virtualenv cleanup** - Remove stale Python venvs by age/size thresholds
- **Smart git gc** - 20-30x faster with dual heuristics (pack size OR age)
- **Live progress gauge** - Real-time disk usage tracking
- **Docker startup control** - Auto-start with configurable timeouts
- **Multiple targets** - VS Code, Docker, Git, Homebrew, NPM, pip, Playwright, pnpm, AWS CLI

### Safe Python Updates (update-all.sh)
- **PEP 668 compliance** - Respects externally-managed environments
- **TTY detection** - Works in cron/CI environments
- **Comprehensive updates** - Homebrew, NPM, pip, Ruby gems, Rust, Go

### Smart Orchestration (smart-cleanup.sh)
- **Quick/thorough/emergency profiles** - Choose your speed
- **Status mode** - Preview before cleanup
- **Virtualenv integration** - Scan and clean Python environments

### Automated Sync (rclone-sync.sh)
- **Background sync** - Daemonized Google Drive backup
- **Smart filtering** - Excludes dependencies, keeps source code
- **Log rotation** - Automatic cleanup of large logs

## üìä What Gets Cleaned

**Typical savings:** 5-10GB per run

- Docker: unused containers, images, volumes, build cache
- Git: aggressive garbage collection with smart heuristics
- VS Code: cached extensions, workspace storage
- NPM/pnpm: package caches
- pip: Python package cache
- Playwright: browser binaries
- Homebrew: old formulae and downloads
- AWS CLI: temporary files and cache
- Python virtualenvs: stale environments by age/size

## üîí Security & Safety

- **Safe defaults** - Dry-run mode, interactive confirmations
- **Input validation** - All numeric parameters validated
- **PEP 668 compliance** - No system pip breakage
- **Manifest tracking** - JSON audit trail of all operations
- **Active venv detection** - Never removes your current environment
- **Interrupt handling** - Graceful Ctrl+C with cleanup

## üõ†Ô∏è Requirements

**Required:**
- Bash 3.2+ (included in macOS/Linux)
- Standard POSIX utilities (awk, sed, grep, date, du, df)

**Optional:**
- `shellcheck` - For development/contributions
- `shfmt` - For code formatting
- `gtimeout` (macOS via coreutils) - Git gc timeout protection
- `rclone` - For backup sync functionality

## üìñ Quick Start

```bash
# Clone the repository
git clone https://github.com/yourusername/scripts.git
cd scripts

# Preview what will be cleaned
./disk-cleanup.sh --dry-run

# Run quick cleanup (skip slow git gc)
./disk-cleanup.sh -y --skip-git-gc

# Scan for old Python virtualenvs
./disk-cleanup.sh --scan-venvs

# Clean virtualenvs older than 60 days and larger than 1GB
./disk-cleanup.sh --clean-venvs --venv-age 60 --venv-min-gb 1

# Smart cleanup with status check
./smart-cleanup.sh --status
./smart-cleanup.sh --auto-best

# Update all system packages
./update-all.sh --dry-run
./update-all.sh
```

## üîß Advanced Usage

### Git GC Optimization
```bash
# Smart GC (only large/old repos)
./disk-cleanup.sh -y --smart-gc --gc-threshold 2

# Force GC on all repos
./disk-cleanup.sh -y --full-gc
```

### Docker Control
```bash
# Skip Docker cleanup entirely
./disk-cleanup.sh -y --skip-docker

# Wait longer for Docker startup
./disk-cleanup.sh -y --docker-wait 120
```

### Background Backup
```bash
# Start continuous sync to Google Drive
./rclone-sync.sh --start

# Check status
./rclone-sync.sh --status

# Stop sync
./rclone-sync.sh --stop
```

## üèóÔ∏è CI/CD & Quality

- **Automated testing** - ShellCheck, shfmt, smoke tests on every commit
- **Pre-commit hooks** - Local validation before push
- **Zero warnings** - All scripts pass ShellCheck
- **Cross-platform** - Tested on macOS and Linux

## üìö Documentation

- [README.md](README.md) - Complete usage guide
- [CONTRIBUTING.md](CONTRIBUTING.md) - Development guidelines
- [SECURITY.md](SECURITY.md) - Security policy and scope
- [CHANGELOG.md](CHANGELOG.md) - Detailed version history

## üôè Acknowledgments

Built with [Claude Code](https://claude.com/claude-code)

## üìÑ License

MIT License - see [LICENSE](LICENSE) for details
